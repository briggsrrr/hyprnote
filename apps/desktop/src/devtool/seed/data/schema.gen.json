{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "type": "object",
  "properties": {
    "$schema": {
      "type": "string"
    },
    "organizations": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      }
    },
    "people": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string",
            "format": "email",
            "pattern": "^(?!\\.)(?!.*\\.\\.)([A-Za-z0-9_'+\\-\\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\\-]*\\.)+[A-Za-z]{2,}$"
          },
          "job_title": {
            "type": "string"
          },
          "linkedin_username": {
            "type": "string"
          },
          "organization": {
            "type": "string"
          },
          "is_user": {
            "type": "boolean"
          }
        },
        "required": [
          "name",
          "email",
          "job_title",
          "organization",
          "is_user"
        ],
        "additionalProperties": false
      }
    },
    "calendars": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      }
    },
    "folders": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "parent": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          }
        },
        "required": [
          "name",
          "parent"
        ],
        "additionalProperties": false
      }
    },
    "tags": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          }
        },
        "required": [
          "name"
        ],
        "additionalProperties": false
      }
    },
    "templates": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "sections": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "title": {
                  "type": "string"
                },
                "description": {
                  "type": "string"
                }
              },
              "required": [
                "title",
                "description"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "title",
          "description",
          "sections"
        ],
        "additionalProperties": false
      }
    },
    "events": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "name": {
            "type": "string"
          },
          "calendar": {
            "type": "string"
          },
          "started_at": {
            "type": "string"
          },
          "ended_at": {
            "type": "string"
          },
          "location": {
            "type": "string"
          },
          "meeting_link": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "note": {
            "type": "string"
          }
        },
        "required": [
          "name",
          "calendar",
          "started_at",
          "ended_at"
        ],
        "additionalProperties": false
      }
    },
    "sessions": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "raw_md": {
            "type": "string"
          },
          "enhanced_md": {
            "type": "string"
          },
          "folder": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "event": {
            "anyOf": [
              {
                "type": "string"
              },
              {
                "type": "null"
              }
            ]
          },
          "participants": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "tags": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "transcript": {
            "type": "object",
            "properties": {
              "segments": {
                "type": "array",
                "items": {
                  "type": "object",
                  "properties": {
                    "start_ms": {
                      "type": "number"
                    },
                    "end_ms": {
                      "type": "number"
                    },
                    "text": {
                      "type": "string"
                    },
                    "words": {
                      "type": "array",
                      "items": {
                        "type": "object",
                        "properties": {
                          "text": {
                            "type": "string"
                          },
                          "start_ms": {
                            "type": "number"
                          },
                          "end_ms": {
                            "type": "number"
                          }
                        },
                        "required": [
                          "text",
                          "start_ms",
                          "end_ms"
                        ],
                        "additionalProperties": false
                      }
                    }
                  },
                  "required": [
                    "start_ms",
                    "end_ms",
                    "text",
                    "words"
                  ],
                  "additionalProperties": false
                }
              }
            },
            "required": [
              "segments"
            ],
            "additionalProperties": false
          }
        },
        "required": [
          "title",
          "raw_md",
          "enhanced_md",
          "folder",
          "event",
          "participants",
          "tags"
        ],
        "additionalProperties": false
      }
    },
    "chat_groups": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "messages": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "role": {
                  "type": "string",
                  "enum": [
                    "user",
                    "assistant"
                  ]
                },
                "content": {
                  "type": "string"
                }
              },
              "required": [
                "role",
                "content"
              ],
              "additionalProperties": false
            }
          }
        },
        "required": [
          "title",
          "messages"
        ],
        "additionalProperties": false
      }
    },
    "memories": {
      "type": "array",
      "items": {
        "type": "object",
        "properties": {
          "type": {
            "type": "string"
          },
          "text": {
            "type": "string"
          }
        },
        "required": [
          "type",
          "text"
        ],
        "additionalProperties": false
      }
    }
  },
  "required": [
    "organizations",
    "people",
    "calendars",
    "folders",
    "tags",
    "templates",
    "events",
    "sessions",
    "chat_groups",
    "memories"
  ],
  "additionalProperties": false
}